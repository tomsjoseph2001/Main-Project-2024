{% extends "user/index.html" %}
{% block body %}


    <style>
    @import url('https://fonts.googleapis.com/css?family=Rubik&display=swap');

{##}
{#.container{#}
{#    margin-top: 100px !important;#}
{#}#}

{#h3{#}
{#    color: #9E9E9E;#}
{#    font-size: calc(20px + 6 * ((100vw - 320px) / 680));#}
{#}#}


button:focus {
    box-shadow: none !important;
    outline-width: 0;
}

.card{
    border-radius:0;

    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.8) ;
}

{#.card-header{#}
{#    background-color:#F44236 !important;#}
{#    color: #fff;#}
{#}#}


.btn-primary{
    background:	#B52AB4;
    color: #fff !important;
    border-radius:0 !important;
    letter-spacing: 1px;
}


.btn-primary:hover{
    background:	#B52AB4;
}
.btn-primary:focus{
    background:	#B52AB4 !important;
}

.btn-success{
    border: 1px solid #B52AB4;
    padding: 8px 20px 8px 20px !important;
    border-radius: 20px !important;

}

.btn-success:hover{
    background:	#B52AB4;
    color:#fff !important;
    border-color: 	#B52AB4 !important;
}
.btn-success:focus{
    background:	#B52AB4 !important;
    color:#fff !important;
}

.btn-success{
    background:	#B52AB4 !important;

}
{#.inner li {#}
{#    list-style-type: disc !important;#}
{#}#}

.fa-times-circle{
    vertical-align: middle !important;
    cursor: pointer !important;
}


{#@media (max-width: 654px) {#}
{#    .card{#}
{#        width: unset;#}
{#    }#}
{#}#}
    </style>





<form action="/myapp/user_view_cabs_post/" method="post">
{% csrf_token %}
<table class="pull-left">
  <tr>




    <th>Vehicle Type</th>
    <td><select name="select2" id="select2" class="form-control">
      <option value="SUV">SUV</option>
      <option value="HATCHBACK">HATCHBACK</option>
      <option value="SEDAN">SEDAN</option>
      <option value="BIKES">BIKES</option>

    </select></td>



      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script>
        $(document).ready(function () {
            $('#select2').change(function () {
                var departmentId = $(this).val();
                if (departmentId) {
                    $.ajax({
                        url: '/myapp/get_vehicles/',
                        data: { 'department_id': departmentId },
                        dataType: 'json',
                        success: function (data) {




                            var courseSelect = $('#rr');
                            courseSelect.empty();

                            $.each(data, function (key, i) {

{#                                alert(JSON.stringify(i));#}

                                var  l="<div class='col-lg-3'><div class='card '><div class='card-header pb-0 bg-white border-0 text-center px-sm-4'> <span class='img-1 text-center'><img src='"+i.photo+"' class='img-fluid my-4 ' /></span>           </div>       <div class='card-body px-sm-4 mb-3'>        <ul class='list-unstyled text-muted'>                    <ul class='mt-2 inner'>                        <li>Reg No      : "+ i.vehicleregno +"</li>                        <li>Model       : "+ i.vehiclemodel +"</li>                        <li>Seats       : "+ i.totalseats +"</li>                        <li>Ac          : "+ i.ac_nonac +"</li>                        <li>VehicleType :"+ i.vehicletype +"</li>                                   </ul>                </ul>                <div class='row justify-content-end mt-4 '> <div class='col-auto'><a href='/myapp/user_booking/"+i.id+"' class='btn btn-success'><span >Book Now</span></a></div></div>            </div>        </div>      </div>";
                                courseSelect.append(l);
                            });
                        }
                    });
                } else {
                    $('#course').empty().append('<option value="">Select a Course</option>');
                }
            });
        });
    </script>


  </tr>
</table>
<br>
{#<table class="table table-bordered" border="1">#}
{#  <tr>#}
{#    <th>Sno</th>#}
{#    <th colspan="2">Regno</th>#}
{#    <th>Model</th>#}
{#    <th>EngineNo</th>#}
{#    <th>Seats</th>#}
{#    <th>Ac</th>#}
{#    <th>Type</th>#}
{#      <th></th>#}
{##}
{#  </tr>#}



        <div class="row" id="rr" name="rr">

{#         {% for i in data %}#}
{#      <div class="col-lg-3">#}
{#        <div class="card ">#}
{#            <div class="card-header pb-0 bg-white border-0 text-center px-sm-4">#}
{#                <span class="img-1 text-center"><img src="{{ i.photo }}" class="img-fluid my-4 " /></span>#}
{#            </div>#}
{#            <div class="card-body px-sm-4 mb-3">#}
{#                <ul class="list-unstyled text-muted">#}
{#                    <ul class="mt-2 inner">#}
{#                        <li>Reg No      : {{ i.vehicleregno }}</li>#}
{#                        <li>Model       : {{ i.vehiclemodel }}</li>#}
{#                        <li>Seats       : {{ i.totalseats }}</li>#}
{#                        <li>Ac          : {{ i.ac_nonac }}</li>#}
{#                        <li>VehicleType : {{ i.vehicletype }}</li>#}
{#                        <li>Move clouse to your wireless access point.</li>#}
{#                    </ul>#}
{#                </ul>#}
{#                <div class="row justify-content-end mt-4 "> <div class="col-auto"><a href="/myapp/user_booking/{{ i.id }}" class="btn btn-success"><span >Book Now</span></a></div></div>#}
{#            </div>#}
{#        </div>#}
{#      </div>#}

{#      {% endfor %}#}
  </div>


{#  <tr>#}
{#    <td>{{ forloop.counter }}</td>#}
{#    <td>&nbsp;{{ i.vehicleregno }}</td>#}
{#    <td> <img src=" {{ i.photo }}" width="100px" height="100px">#}
{#       </td>#}
{#        <td>&nbsp;{{ i.vehiclemodel }}</td>#}
{#    <td>&nbsp;{{ i.enginenumber }}</td>#}
{#    <td>{{ i.totalseats }}</td>#}
{#    <td>{{ i.ac_nonac }}</td>#}
{#    <td>{{ i.vehicletype }}</td>#}
{#    <td width="50px">#}
{#       <a href="/myapp/user_booking/{{ i.id }}" class="btn btn-warning">Book</a>#}
{#  </td>#}



{#  </tr>#}
{#    {% endfor %}#}
{#</table>#}

</form>

{% endblock %}
